{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["let LS_KEY = \"feedback-form-state\";\nconst formEl = document.querySelector(\".feedback-form\");\nconst emailEl = formEl.querySelector(\"input\");\nconst messageEl = formEl.querySelector(\"textarea\");\nlet formData = {\n    email:\"\",\n    message:\"\",\n};\nrestoreInput();\nformEl.addEventListener(\"input\", getInputValues);\nformEl.addEventListener(\"submit\", formSubmit);\n\nfunction getInputValues(event) {\n    const savedData = localStorage.getItem(LS_KEY);\n    if (savedData) {\n        formData = JSON.parse(savedData);\n    }\n\n    if (event.target.name === \"email\") {\n        formData.email = event.target.value.trim();\n    } \n    if (event.target.name === \"message\") {\n        formData.message = event.target.value.trim();\n    }\n\n    localStorage.setItem(LS_KEY, JSON.stringify(formData));\n}\n\nfunction formSubmit(event) {\n    event.preventDefault();\n    const form = event.currentTarget;\n    const { email, message } = form.elements;\n    formData.email = email.value;\n    formData.message = message.value;\n    if (email.value === \"\" || message.value === \"\") {\n        alert(\"Fill please all fields\");\n    } else {\n        console.log(formData);\n        localStorage.removeItem(LS_KEY);\n        formData = {\n            email: \"\",\n            message: \"\",\n        };\n        formEl.reset();\n    }\n};\n\nfunction restoreInput() { \n    const restoredData = JSON.parse(localStorage.getItem(LS_KEY));\n    if (restoredData) {\n        emailEl.value = restoredData.email;\n        messageEl.value = restoredData.message;\n    };\n};"],"names":["LS_KEY","formEl","emailEl","messageEl","formData","restoreInput","getInputValues","formSubmit","event","savedData","form","email","message","restoredData"],"mappings":"wFAAA,IAAIA,EAAS,sBACb,MAAMC,EAAS,SAAS,cAAc,gBAAgB,EAChDC,EAAUD,EAAO,cAAc,OAAO,EACtCE,EAAYF,EAAO,cAAc,UAAU,EACjD,IAAIG,EAAW,CACX,MAAM,GACN,QAAQ,EACZ,EACAC,IACAJ,EAAO,iBAAiB,QAASK,CAAc,EAC/CL,EAAO,iBAAiB,SAAUM,CAAU,EAE5C,SAASD,EAAeE,EAAO,CAC3B,MAAMC,EAAY,aAAa,QAAQT,CAAM,EACzCS,IACAL,EAAW,KAAK,MAAMK,CAAS,GAG/BD,EAAM,OAAO,OAAS,UACtBJ,EAAS,MAAQI,EAAM,OAAO,MAAM,KAAI,GAExCA,EAAM,OAAO,OAAS,YACtBJ,EAAS,QAAUI,EAAM,OAAO,MAAM,KAAI,GAG9C,aAAa,QAAQR,EAAQ,KAAK,UAAUI,CAAQ,CAAC,CACzD,CAEA,SAASG,EAAWC,EAAO,CACvBA,EAAM,eAAc,EACpB,MAAME,EAAOF,EAAM,cACb,CAAE,MAAAG,EAAO,QAAAC,GAAYF,EAAK,SAChCN,EAAS,MAAQO,EAAM,MACvBP,EAAS,QAAUQ,EAAQ,MACvBD,EAAM,QAAU,IAAMC,EAAQ,QAAU,GACxC,MAAM,wBAAwB,GAE9B,QAAQ,IAAIR,CAAQ,EACpB,aAAa,WAAWJ,CAAM,EAC9BI,EAAW,CACP,MAAO,GACP,QAAS,EACrB,EACQH,EAAO,MAAK,EAEpB,CAEA,SAASI,GAAe,CACpB,MAAMQ,EAAe,KAAK,MAAM,aAAa,QAAQb,CAAM,CAAC,EACxDa,IACAX,EAAQ,MAAQW,EAAa,MAC7BV,EAAU,MAAQU,EAAa,QAEvC"}